@model IEnumerable<ProyectoTelefonos.SubArea>


<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
@Styles.Render("~/Content/css")


<div class="row">
    <div class="col-md-12">
        <table class="table table-condensed table-striped">
            <thead>
                <tr>
                    <th>
                        <span>Piso</span>
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Nombre)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Referente)
                    </th>
                    <th>
                        <span>Interno</span>
                    </th>
                    <th>
                        <span>Directo</span>
                    </th>
                </tr>
            </thead>

            <tbody class="buscar">
            @foreach (var item in Model)
            {
                if (item.Nombre != "(sin sub-area)" && item.Internos.Select(i=>i.NoMostrar).FirstOrDefault() != true)
                {
                    <tr>
                        <td>
                            @if (item.Pisos.Select(p => p.Numero).FirstOrDefault() == -1L)
                            {
                                <span>SS</span>
                            }
                            else if (item.Pisos.Select(p => p.Numero).FirstOrDefault() == 0L)
                            {
                                <span>PB</span>
                            }
                            else
                            {
                                @item.Pisos.Select(p => p.Numero).FirstOrDefault()
                            }
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Nombre)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Referente)
                        </td>
                        <td>
                            @foreach (var item2 in item.Internos)
                            {

                                @item2.Numero<span>&nbsp;&nbsp;</span>

                            }
                        </td>
                        <td>
                            @foreach (var item3 in item.Directos)
                            {
                                <p class="text-nowrap">@item3.Numero</p>
                            }
                        </td>

                    </tr>

                }

            }
            </tbody>


        </table>

    </div>

</div>